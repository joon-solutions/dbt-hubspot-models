version: 2

models:

  - name: stg__shopify__order_line_aggregates
    description: Each record represents an order line aggregation in Shopify by order.
    columns:
      - name: order_globalid
        description: PK = order_id || source_relations
        tests: 
          - not_null
          - unique
      - name: order_id
        description: The ID of the order, used for API purposes. This is different from the order_number property, which is the ID used by the shop owner and customer.

  - name: stg__shopify__order__shipping_aggregates
    description: Each record represents an order_id with shipping attributes.
    columns:
      - name: order_globalid
        description: PK = order_id || source_relations
        tests: 
          - not_null
          - unique
      - name: order_id
        description: The ID of the order, used for API purposes. This is different from the order_number property, which is the ID used by the shop owner and customer.

  - name: stg__shopify__transactions
    description: Each record represents a transaction_id.
    columns:
      - name: transaction_globalid
        description: PK = transaction_id || source_relations
        tests: 
          - not_null
          - unique
      - name: order_id
        description: The ID of the order, used for API purposes. This is different from the order_number property, which is the ID used by the shop owner and customer.

  - name: stg__shopify__products
    description: Each record represents a product in Shopify with product attributes.
    columns:
      - name: product_globalid
        description: PK = product_id || source_relations
        tests: 
          - not_null
          - unique

  - name: stg__shopify__product_order_line_aggregates
    description: Each record represents a product in Shopify with order metrics.
    columns:
      - name: product_globalid
        description: PK = product_id || source_relations
        tests: 
          - not_null
          - unique
  
  - name: stg__shopify__product_order_aggregates
    description: Each record represents a product in Shopify with order metrics.
    columns:
      - name: unique_id
        description: PK = product_globalid || order_globalid
        tests: 
          - not_null
          - unique