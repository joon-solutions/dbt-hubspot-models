version: 2

models:
  - name: fct__outreach_sf__account
    description: The combination of Outreach & Salesforce Account joined with Opportunity
    columns:
      - name: account_id
        description: "{{ doc('account_id') }}"
        tests:
          - unique
          - not_null
          - dbt_utils.at_least_one
      - name: sf_account_id
        description: account_id from salesforce
      - name: outreach_account_id
        description: account_id from outreach
      - name: account_status
        description: The customer status defined by the number of won and lost cases. (lost_customer, customer, prospective, lead)
      - name: amount_won
        description: total amount won for the account
      - name: amount_lost
        description: total amount lost for the account
      - name: count_won
        description: total number of won cases for the account
      - name: count_lost
        description: total number of lost cases for the account
      - name: count_pipeline
        description: total number of pipeline cases for the account
      - name: count_closed
        description: total number of closed cases for the account
      - name: count_open
        description: total number of open cases for the account